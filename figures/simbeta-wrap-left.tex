\begin{tikzcd}
  \texttt{ƛ N} && \texttt{ƛ N'} \\
  \\
  \texttt{ƛ-wrap ∓s ±t (ƛ N)} && \texttt{ƛ N'} \\
  \\
  \texttt{(ƛ-wrap ∓s ±t (ƛ N)) · W} && \texttt{(ƛ N') · W'} \\
	\\
  \texttt{cast ±t ((ƛ N) · cast ∓s (gvalue w))} && \texttt{(ƛ N') · W'}
  \arrow["\texttt{cod p}"', ""{name=0, anchor=center, inner sep=0}, from=1-1, to=1-3]
  \arrow["\texttt{ƛ-wrap}"', hookrightarrow, from=1-1, to=3-1]
  \arrow[equals, from=1-3, to=3-3]
  \arrow["\texttt{p}"', ""{name=1, anchor=center, inner sep=0}, from=3-1, to=3-3]
  \arrow["\texttt{wrap≤}", shorten <=13pt, shorten >=13pt, Rightarrow, shift left=2, from=0, to=1]
  \arrow["\texttt{(\_ · W)}"', hookrightarrow, from=3-1, to=5-1]
  \arrow["\texttt{(\_ · W')}", hookrightarrow, from=3-3, to=5-3]
  \arrow["\texttt{cod p}", ""{name=2, anchor=center, inner sep=0}, from=5-1, to=5-3]
  \arrow["\texttt{·≤·}", shorten <=13pt, shorten >=13pt, Rightarrow, shift left=2, from=1, to=2]
	\arrow["\texttt{β}"', ->, very thick, from=5-1, to=7-1]
  \arrow[equals, from=5-3, to=7-3]
  \arrow["\texttt{cod p}", ""{name=3, anchor=center, inner sep=0}, dotted, from=7-1, to=7-3]
  \arrow[""', shorten <=13pt, shorten >=13pt, Rightarrow, bend right, from=0, to=3]
\end{tikzcd}
